<div class="card-body">
  <h2 class="card-title" style="text-align: center">Ajouter Placement</h2>
  <!--Form-->

  <form class="form-sample" #monform="ngForm" (submit)="onSubmit(monform)">
    <!--new line -->
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <!-- liste des 7 chois -->
          <label style="margin: -1px">Type placement</label>
          <select
            id="test2"
            style="width: 225px"
            (blur)="ValidateOrg(typePlacement.value)"
            (change)="ValidateOrg(typePlacement.value)"
            (click)="detectChangeTypePlacement()"
            class="form-control form-control-lg"
            [class.is-invalid]="typePlacement.touched && OrgHasError"
            [(ngModel)]="placementS.fromData.pla_id_type_action"
            #typePlacement="ngModel"
            name="typePlacement"
          >
            <option value="0" disabled>Sélectionner type placement</option>

            <ng-container *ngFor="let item of typeactionS.listaction">
              <option value="{{ item.typ_act_id }}">
                {{ item.typ_act_libelle }}
              </option>
            </ng-container>
          </select>
          <small
            class="text-danger"
            [class.d-none]="!OrgHasError || typePlacement.untouched"
          >
            Le champs est obligatoire!
          </small>
        </div>
      </div>
    </div>
    <!-- tester sur les 5 premiers lignes  -->

    <ng-container
      *ngIf="
        placementS.fromData.pla_id_type_action == 1 ||
        placementS.fromData.pla_id_type_action == 2 ||
        placementS.fromData.pla_id_type_action == 3
      "
    >
      <div class="col-md-6" id="test1">
        <!-- Institution financiére -->

        <div class="form-group">
          <label>Institution financiére</label>
          <select
            (blur)="ValidateOrg(typeOrganisme.value)"
            (change)="ValidateOrg(typeOrganisme.value)"
            class="form-control form-control-lg"
            [class.is-invalid]="typeOrganisme.touched && OrgHasError"
            [(ngModel)]="placementS.fromData.pla_organisme_societe"
            name="typeOrganisme"
            #typeOrganisme="ngModel"
            (change)="onCalculeDateEchance()"
          >
            <option value="0" disabled>Sélectionner la banque</option>

            <ng-container *ngFor="let item of organismeS.listorganisme">
              <option value="{{ item.org_id }}">{{ item.org_libelle }}</option>
            </ng-container>
          </select>
          <small
            class="text-danger"
            [class.d-none]="!OrgHasError || typeOrganisme.untouched"
          >
            Le champs est obligatoire!
          </small>
        </div>
      </div>
      <!--new line -->

      <div class="row">
        <!-- Montant Dêpot-->

        <div class="col-md-6">
          <div class="form-group">
            <label>Montant Dêpot </label>
            <input
              type="number"
              class="form-control form-control-lg"
              placeholder="Montant Dêpot"
              #montantD="ngModel"
              [(ngModel)]="placementS.fromData.pla_montant_depot"
              name="montantD"
              pattern="^[0-9]{1,11}(?:\.[0-9]{1,3})?$"
              (change)="onCalculeDateEchance()"
              min="0"
              required
            />
            <div
              class="error-msg"
              *ngIf="
                (montantD.touched || monform.submitted) &&
                montantD.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>

            <div
              class="error-msg"
              *ngIf="
                (montantD.touched || monform.submitted) &&
                montantD.errors?.pattern
              "
            >
              <p>Le montant doit être 3 chiffres après la virgule</p>
            </div>
          </div>
        </div>
        <!-- Taux Profit-->

        <div class="col-md-6">
          <div class="form-group">
            <label>Taux Profit %</label>
            <input
              type="number"
              class="form-control form-control-lg"
              placeholder="Taux Profit %"
              #tauxP="ngModel"
              ng-model="model.data"
              step="0.1"
              [(ngModel)]="placementS.fromData.pla_taux_profit"
              min="0"
              max="100"
              name="tauxP"
              id="tauxP"
              (change)="onCalculeDateEchance()"
              required
            />
            <div
              class="error-msg"
              *ngIf="
                (tauxP.touched || monform.submitted) && tauxP.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
          </div>
        </div>
      </div>
      <!--new line -->

      <div class="row">
        <!-- Date Souscription-->

        <div class="col-md-6">
          <div class="form-group">
            <label>Date Souscription</label>
            <input
              type="date"
              class="form-control form-control-lg"
              placeholder="Date Souscription"
              #dateS="ngModel"
              [(ngModel)]="placementS.fromData.pla_date_souscription"
              name="dateS"
              required
              (change)="onCalculeDateEchance()"
            />
            <div
              class="error-msg"
              *ngIf="
                (dateS.touched || monform.submitted) && dateS.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
          </div>
        </div>
        <!-- Durée -->

        <div class="col-md-5">
          <div class="form-group">
            <label>Année</label>
            <input
              type="number"
              style="margin: 0px 15px -37px 0px; width: auto"
              class="form-control form-control-lg"
              #duree="ngModel"
              [(ngModel)]="placementS.fromData.pla_duree"
              min="0"
              max="10"
              name="duree"
              required
              (change)="onCalculeDateEchance()"
            />
            <div
              class="error-msg"
              *ngIf="
                (duree.touched || monform.submitted) && duree.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
            <input
              type="number"
              style="margin: -50px 5px 1px 124px; width: auto"
              class="form-control form-control-lg"
              placeholder="Mois"
              #duree="ngModel"
              [(ngModel)]="placementS.fromData.pla_mois"
              min="0"
              max="12"
              name="mois"
              required
              (change)="onCalculeDateEchance()"
            />
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Date d'Echéance -->

        <div class="col-md-6">
          <div class="form-group">
            <label>Date d'Echéance</label>
            <input
              type="date"
              class="form-control form-control-lg"
              placeholder="Date d'Echéance"
              #dateE="ngModel"
              [(ngModel)]="placementS.fromData.pla_date_echeance"
              name="dateE"
              disabled
            />
          </div>
        </div>

        <!-- P.P.C à la date du jour-->

        <div class="col-md-6">
          <div class="form-group">
            <label>P.P.C à la date du jour </label>
            <input
              type="text"
              class="form-control form-control-lg"
              placeholder="P.P consommés à la date du jour"
              #PPCDJ="ngModel"
              [(ngModel)]="
                placementS.fromData.pla_produits_placement_consommes_date_jour
              "
              name="PPCDJ"
              required
              disabled
            />
          </div>
        </div>
      </div>
      <div class="row">
        <!-- P.P à la fin du trimestre comptable-->

        <div class="col-md-6">
          <div class="form-group">
            <label>P.P à la fin du trimestre comptable</label>
            <input
              type="text"
              class="form-control form-control-lg"
              placeholder="P.P à la fin du trimestre comptable"
              #PPTC="ngModel"
              [(ngModel)]="
                placementS.fromData
                  .pla_produits_placement_consommes_trimestre_comptable
              "
              name="PPFTC"
              required
              disabled
            />
          </div>
        </div>
        <!-- P.P à la fin l’année comptable-->

        <div class="col-md-6">
          <div class="form-group">
            <label>P.P à la fin l’année comptable</label>
            <input
              type="text"
              class="form-control form-control-lg"
              placeholder="P.P à la fin l’année comptable"
              #PPAC="ngModel"
              [(ngModel)]="
                placementS.fromData
                  .pla_produits_placement_consommes_annee_comptable
              "
              name="PPAC"
              required
              disabled
            />
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label>Montant à la fin d'échéance </label>
          <input
            style="margin: 0px -13px 0px -15px; width: auto"
            type="number"
            class="form-control form-control-lg"
            [(ngModel)]="
              placementS.fromData.pla_produits_placement_consommes_ech_final
            "
            name="placementFinEchance"
            disabled
          />
        </div>
      </div>
      <!-- <div class="col-md-3">
                  <div class="form-group">
                      <label>Taux de la retenue de garantie</label>
                      <input type="number" class="form-control form-control-lg" placeholder="Taux de la retenue de garantie" #tauxRG="ngModel"
                        [(ngModel)]="placementS.fromData.pla_taux_retenue"  name="tauxRG" required />
                  </div>
              </div>
              <div class="col-md-3">
                  <div class="form-group">
                      <label>Taux Moudharba</label>
                      <input type="number" class="form-control form-control-lg" placeholder="Taux Moudharba" #tauxM="ngModel"
                        [(ngModel)]="placementS.fromData.taux_moudharba"  name="tauxM" required />
                  </div>
              </div>-->
      <!-- Confimer formulaire -->

      <div class="mt-3" style="display: block">
        <button
          class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
          type="submit"
          [disabled]="
            monform.invalid || !placementS.fromData.pla_organisme_societe
          "
        >
          Confirmer
        </button>
      </div>
    </ng-container>
    <ng-container
      *ngIf="placementS.fromData.pla_id_type_action == 4"
      id="test1"
    >
      <div class="col-md-6" style="margin: -105px 0px 0px 264px">
        <div class="form-group">
          <!-- liste des 7 chois -->
          <label>Hypothéses</label>
          <select
            id="test2"
            style="width: 225px"
            (blur)="ValidateOrg(typePlacement.value)"
            (change)="ValidateOrg(typePlacement.value)"
            (click)="detectChangeTypePlacement()"
            [(ngModel)]="selecthypothese"
            class="form-control form-control-lg"
            [class.is-invalid]="typePlacement.touched && OrgHasError"
            name="hypothese"
          >
            <option value="0" disabled>Sélectionner l'hypothése</option>
            <option value="1">hypothése 1</option>
            <option value="2">hypothése 2</option>
          </select>
          <small
            class="text-danger"
            [class.d-none]="!OrgHasError || typePlacement.untouched"
          >
            Le champs est obligatoire!
          </small>
        </div>
      </div>

      <ng-container *ngIf="selecthypothese == 1">
        <!-- Institution financiére -->
        <div class="row">
          <div
            class="form-group"
            style="margin: 0px 24px 12px 9px; width: 241px"
          >
            <label>Institution financiére</label>
            <select
              (blur)="ValidateOrg(typeOrganisme.value)"
              (change)="ValidateOrg(typeOrganisme.value)"
              class="form-control form-control-lg"
              [class.is-invalid]="typeOrganisme.touched && OrgHasError"
              [(ngModel)]="placementS.fromData.pla_organisme_societe"
              name="typeOrganisme"
              #typeOrganisme="ngModel"
              (change)="onCalculeDateEchance()"
            >
              <option value="0" disabled>Sélectionner la banque</option>

              <ng-container *ngFor="let item of organismeS.listorganisme">
                <option value="{{ item.org_id }}">
                  {{ item.org_libelle }}
                </option>
              </ng-container>
            </select>
            <small
              class="text-danger"
              [class.d-none]="!OrgHasError || typeOrganisme.untouched"
            >
              Le champs est obligatoire!
            </small>
          </div>

          <!--new line -->

          <!-- Montant Dêpot-->

          <div class="col-md-6">
            <div class="form-group" style="width: 234px">
              <label>Montant Dêpot </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Montant Dêpot"
                #montantD="ngModel"
                [(ngModel)]="placementS.fromData.pla_montant_depot"
                name="montantD"
                pattern="^[0-9]{1,11}(?:\.[0-9]{1,3})?$"
                (change)="onCalculeDateEchance()"
                min="0"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (montantD.touched || monform.submitted) &&
                  montantD.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>

              <div
                class="error-msg"
                *ngIf="
                  (montantD.touched || monform.submitted) &&
                  montantD.errors?.pattern
                "
              >
                <p>Le montant doit être 3 chiffres après la virgule</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Taux Profit-->
        <div class="row">
          <div
            class="form-group"
            style="margin: 11px 0px 0px 14px; width: 241px"
          >
            <label>Taux Profit %</label>
            <input
              type="number"
              class="form-control form-control-lg"
              placeholder="Taux Profit %"
              #tauxP="ngModel"
              ng-model="model.data"
              step="0.1"
              [(ngModel)]="placementS.fromData.pla_taux_profit"
              min="0"
              max="100"
              name="tauxP"
              id="tauxP"
              (change)="onCalculeDateEchance()"
              required
            />
            <div
              class="error-msg"
              *ngIf="
                (tauxP.touched || monform.submitted) && tauxP.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
          </div>
          <!--new line -->

          <!-- Date Souscription-->

          <div class="col-md-6">
            <div
              class="form-group"
              style="width: 234px; margin: 11px 0px 0px 16px"
            >
              <label>Date Souscription</label>
              <input
                type="date"
                class="form-control form-control-lg"
                placeholder="Date Souscription"
                #dateS="ngModel"
                [(ngModel)]="placementS.fromData.pla_date_souscription"
                name="dateS"
                required
                (change)="onCalculeDateEchance()"
              />
              <div
                class="error-msg"
                *ngIf="
                  (dateS.touched || monform.submitted) && dateS.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
        </div>

        <!-- Durée -->
        <div class="row">
          <div
            class="form-group"
            style="margin: 11px 0px 0px 14px; width: 241px"
          >
            <label>Année</label>
            <input
              type="number"
              style="margin: 0px 15px -37px 0px; width: auto"
              class="form-control form-control-lg"
              placeholder="Année"
              #duree="ngModel"
              [(ngModel)]="placementS.fromData.pla_duree"
              min="0"
              max="10"
              name="duree"
              required
              (change)="onCalculeDateEchance()"
            />
            <div
              class="error-msg"
              *ngIf="
                (duree.touched || monform.submitted) && duree.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
            <input
              type="number"
              style="margin: -50px 10px 5px 117px; width: auto"
              class="form-control form-control-lg"
              placeholder="Mois"
              #duree="ngModel"
              [(ngModel)]="placementS.fromData.pla_mois"
              min="0"
              max="12"
              name="mois"
              required
              (change)="onCalculeDateEchance()"
            />
          </div>

          <!-- Date d'Echéance -->

          <div class="col-md-6">
            <div
              class="form-group"
              style="width: 234px; margin: 11px 0px 0px 16px"
            >
              <label>Date d'Echéance </label>
              <input
                type="date"
                class="form-control form-control-lg"
                placeholder="Date d'Echéance"
                #dateE="ngModel"
                [(ngModel)]="placementS.fromData.pla_date_echeance"
                name="dateE"
                disabled
              />
            </div>
          </div>
        </div>
        <!-- P.P.C à la date du jour-->
        <div class="row">
          <div
            class="form-group"
            style="margin: 11px 0px 0px 14px; width: 241px"
          >
            <label>P.P.C à la date du jour </label>
            <input
              type="text"
              class="form-control form-control-lg"
              placeholder="P.P consommés à la date du jour"
              #PPCDJ="ngModel"
              [(ngModel)]="
                placementS.fromData.pla_produits_placement_consommes_date_jour
              "
              name="PPCDJ"
              required
              disabled
            />
          </div>
          <!-- P.P à la fin du trimestre comptable-->

          <div class="col-md-6">
            <div
              class="form-group"
              style="width: 234px; margin: 11px 0px 0px 16px"
            >
              <label>P.P à la fin du trimestre comptable</label>
              <input
                type="text"
                class="form-control form-control-lg"
                placeholder="P.P à la fin du trimestre comptable"
                #PPTC="ngModel"
                [(ngModel)]="
                  placementS.fromData
                    .pla_produits_placement_consommes_trimestre_comptable
                "
                name="PPFTC"
                required
                disabled
              />
            </div>
          </div>
        </div>

        <!-- P.P à la fin l’année comptable-->
        <div class="row">
          <div
            class="form-group"
            style="margin: 11px 0px 0px 14px; width: 241px"
          >
            <label>P.P à la fin l’année comptable</label>
            <input
              type="text"
              class="form-control form-control-lg"
              placeholder="P.P à la fin l’année comptable"
              #PPAC="ngModel"
              [(ngModel)]="
                placementS.fromData
                  .pla_produits_placement_consommes_annee_comptable
              "
              name="PPAC"
              required
              disabled
            />
          </div>
          <div class="col-md-6">
            <div
              class="form-group"
              style="width: 234px; margin: 11px 0px 0px 16px"
            >
              <label>Montant à la fin d'échéance </label>
              <input
                type="number"
                class="form-control form-control-lg"
                [(ngModel)]="
                  placementS.fromData.pla_produits_placement_consommes_ech_final
                "
                name="placementFinEchance"
                disabled
              />
            </div>
          </div>
        </div>

        <div class="mt-3">
          <button
            class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
            type="submit"
            [disabled]="monform.invalid"
          >
            Confirmer
          </button>
        </div>
      </ng-container>
      <ng-container *ngIf="selecthypothese == 2">
        <div class="row">
          <!-- Institution financiére -->

          <div
            class="form-group"
            style="margin: 0px 24px 12px 9px; width: 241px"
          >
            <label>Institution financiére</label>
            <select
              (blur)="ValidateOrg(typeOrganisme.value)"
              (change)="ValidateOrg(typeOrganisme.value)"
              class="form-control form-control-lg"
              [class.is-invalid]="typeOrganisme.touched && OrgHasError"
              [(ngModel)]="placementS.fromData.pla_organisme_societe"
              name="typeOrganisme"
              #typeOrganisme="ngModel"
              (change)="onCalculeDateEchance()"
            >
              <option value="0" disabled>Sélectionner la banque</option>

              <ng-container *ngFor="let item of organismeS.listorganisme">
                <option value="{{ item.org_id }}">
                  {{ item.org_libelle }}
                </option>
              </ng-container>
            </select>
            <small
              class="text-danger"
              [class.d-none]="!OrgHasError || typeOrganisme.untouched"
            >
              Le champs est obligatoire!
            </small>
          </div>

          <div class="col-md-6">
            <div class="form-group" style="width: 243px">
              <label>Montant Dêpot </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Montant Dêpot"
                #montantD="ngModel"
                [(ngModel)]="placementS.fromData.pla_montant_depot"
                name="montantD"
                pattern="^[0-9]{1,11}(?:\.[0-9]{1,3})?$"
                min="0"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (montantD.touched || monform.submitted) &&
                  montantD.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>

              <div
                class="error-msg"
                *ngIf="
                  (montantD.touched || monform.submitted) &&
                  montantD.errors?.pattern
                "
              >
                <p>Le montant doit être 3 chiffres après la virgule</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Taux Profit %</label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Taux Profit %"
                #tauxP="ngModel"
                [(ngModel)]="placementS.fromData.pla_taux_profit"
                min="0"
                max="100"
                name="tauxP"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (tauxP.touched || monform.submitted) && tauxP.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="form-group">
              <label>Année</label>
              <input
                type="number"
                style="margin: 0px 15px -37px 0px; width: auto"
                class="form-control form-control-lg"
                placeholder="Année"
                #duree="ngModel"
                [(ngModel)]="placementS.fromData.pla_duree"
                min="0"
                max="10"
                name="duree"
                required
                (change)="onCalculeDateEchance()"
              />
              <div
                class="error-msg"
                *ngIf="
                  (duree.touched || monform.submitted) && duree.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
              <input
                type="number"
                style="margin: -50px 10px 5px 117px; width: auto"
                class="form-control form-control-lg"
                placeholder="Mois"
                #duree="ngModel"
                [(ngModel)]="placementS.fromData.pla_mois"
                min="0"
                max="12"
                name="mois"
                required
                (change)="onCalculeDateEchance()"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Date Souscription</label>
              <input
                type="date"
                class="form-control form-control-lg"
                placeholder="Date Souscription"
                #dateS="ngModel"
                [(ngModel)]="placementS.fromData.pla_date_souscription"
                name="dateS"
                required
                (change)="onCalculeDateEchance()"
              />
              <div
                class="error-msg"
                *ngIf="
                  (dateS.touched || monform.submitted) && dateS.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Date d'Echéance</label>
              <input
                type="date"
                class="form-control form-control-lg"
                placeholder="Date d'Echéance"
                #dateE="ngModel"
                [(ngModel)]="placementS.fromData.pla_date_echeance"
                name="dateE"
                disabled
              />
            </div>
          </div>
        </div>
        <div class="mt-3">
          <button
            class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
            type="submit"
            [disabled]="monform.invalid"
          >
            Confirmer
          </button>
        </div>
      </ng-container>
    </ng-container>

    <!-- tester sur type ="Actions" -->
    <ng-container *ngIf="placementS.fromData.pla_id_type_action == 5">
      <div class="row">
        <!-- Montant Dêpot-->

        <div class="form-group" style="margin: 1px 0px 0px 16px">
          <label>Montant Dêpot </label>
          <input
            type="number"
            class="form-control form-control-lg"
            placeholder="Montant Dêpot"
            #montantD="ngModel"
            [(ngModel)]="placementS.fromData.pla_montant_depot"
            name="montantD"
            pattern="^[0-9]{1,11}(?:\.[0-9]{1,3})?$"
            min="0"
            required
          />
          <div
            class="error-msg"
            *ngIf="
              (montantD.touched || monform.submitted) &&
              montantD.errors?.required
            "
          >
            Le champs est obligatoire!
          </div>

          <div
            class="error-msg"
            *ngIf="
              (montantD.touched || monform.submitted) &&
              montantD.errors?.pattern
            "
          >
            <p>Le montant doit être 3 chiffres après la virgule</p>
          </div>
        </div>
      </div>
      <div class="row">
        <!-- Taux Profit-->

        <div class="form-group" style="margin: 11px 0px 0px 16px; width: 222px">
          <label>Taux Profit %</label>
          <input
            type="number"
            class="form-control form-control-lg"
            placeholder="Taux Profit %"
            #tauxP="ngModel"
            [(ngModel)]="placementS.fromData.pla_taux_profit"
            min="0"
            max="100"
            name="tauxP"
            required
          />
          <div
            class="error-msg"
            *ngIf="
              (tauxP.touched || monform.submitted) && tauxP.errors?.required
            "
          >
            Le champs est obligatoire!
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group" style="margin: 11px 0px 0px 16px; width: 222px">
          <label>Date Souscription</label>
          <input
            type="date"
            class="form-control form-control-lg"
            placeholder="Date Souscription"
            #dateS="ngModel"
            [(ngModel)]="placementS.fromData.pla_date_souscription"
            name="dateS"
            required
          />
          <div
            class="error-msg"
            *ngIf="
              (dateS.touched || monform.submitted) && dateS.errors?.required
            "
          >
            Le champs est obligatoire!
          </div>
        </div>
      </div>

      <div class="mt-3">
        <button
          class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
          type="submit"
          [disabled]="monform.invalid"
        >
          Confirmer
        </button>
      </div>
    </ng-container>

    <ng-container *ngIf="placementS.fromData.pla_id_type_action == 6">
      <div class="col-md-6" style="margin: -105px 0px 0px 264px">
        <div class="form-group">
          <label>Type Actions</label>
          <select
            style="width: 252px"
            class="form-control form-control-lg"
            [(ngModel)]="placementS.fromData.pla_action_cotee"
            (click)="resetTypeAction(monform)"
            name="typecotee"
            #typecotee="ngModel"
          >
            <ng-container *ngFor="let item of typeC.listtypecotee">
              <option value="{{ item.coNoCo_id }}">
                {{ item.coNoCo_libelle }}
              </option>
            </ng-container>
          </select>
        </div>
      </div>
      <!-- tester sur type ="Actions Cotee" -->

      <ng-container *ngIf="placementS.fromData.pla_action_cotee == 1">
        <div class="row">
          <!-- Société-->

          <!--
      <div class="col-md-6">

          <div class="form-group">
              <label>Société</label>
              <input type="text" class="form-control form-control-lg" placeholder="Société" #Societe="ngModel"
                    [(ngModel)]="placementS.fromData.pla_societe"  name="Societe" required />

          </div>
      </div>
      -->
          <!--Malek Modification-->
          <div class="col-md-6">
            <div class="form-group">
              <label>Société </label>
              <br />
              <input
                class="form-control"
                list="Societe"
                autocomplete="off"
                name="societeName"
                #societeName="ngModel"
                [(ngModel)]="placementS.fromData.pla_societe"
                required
                (change)="getTodayPrice(placementS.fromData.pla_societe)"
              />
              <div
                class="error-msg"
                *ngIf="
                  (societeName.touched || monform.submitted) &&
                  societeName.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
              <datalist id="Societe">
                <option
                  *ngFor="
                    let item of this.placementS.listplacementNomEntreprise
                  "
                  ngValue="{{ item }}"
                >
                  {{ item }}
                </option>
              </datalist>
            </div>
          </div>

          <!--Nombre d’action-->

          <div class="col-md-6">
            <div class="form-group">
              <label>Nombre d’action </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Nombre d’action"
                #nbaction="ngModel"
                [(ngModel)]="placementS.fromData.pla_nbr_action"
                min="0"
                name="nbaction"
                (change)="onCalculeMntD()"
                (change)="onCalculeMntDA()"
                (change)="CalculerPPDateJour()"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (nbaction.touched || monform.submitted) &&
                  nbaction.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <!-- Prix d’achat -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Prix d’achat</label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Prix d’achat"
                #prixA="ngModel"
                ng-model="model.data"
                step="0.1"
                [(ngModel)]="placementS.fromData.pla_prix_achat"
                min="0"
                name="prixA"
                id="prixA"
                (change)="onCalculeMntD()"
                (change)="CalculerPPDateJour()"
                disabled
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (prixA.touched || monform.submitted) && prixA.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
          <!-- Montant Dêpot -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Montant Dêpot </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Montant Dêpot"
                #mntD="ngModel"
                [(ngModel)]="placementS.fromData.pla_montant_depot"
                name="mntD"
                disabled
                required
              />
            </div>
          </div>
        </div>
        <div class="row">
          <!-- Date d'achat -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Date d'achat</label>
              <input
                type="date"
                class="form-control form-control-lg"
                placeholder="Date d'achat"
                #dateA="ngModel"
                [(ngModel)]="placementS.fromData.pla_date_souscription"
                name="dateA"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (dateA.touched || monform.submitted) && dateA.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
          <!-- Prix du jour -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Prix du jour</label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Prix du jour"
                #prixJ="ngModel"
                [(ngModel)]="placementS.fromData.pla_prix_jour"
                min="0"
                name="prixJ"
                (change)="onCalculeMntDA()"
                disabled
              />
            </div>
          </div>
        </div>
        <div class="row">
          <!-- Montant actualisé -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Montant actualisé </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Montant actualisé"
                #MA="ngModel"
                [(ngModel)]="placementS.fromData.pla_montant_actualise"
                name="MA"
                disabled
              />
            </div>
          </div>
          <!-- +/-V.C à la date du jour -->

          <div class="col-md-6">
            <div class="form-group">
              <label>+/-V.C à la date du jour</label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="+/-V.C à la date du jour"
                #VCDJ="ngModel"
                [(ngModel)]="placementS.fromData.pla_value_consome_date_jour"
                name="VCDJ"
                disabled
              />
            </div>
          </div>
        </div>
        <!--
              <div class="col-md-4">
                  <div class="form-group">
                      <label>+/- V.C à la fin du trimestre comptable</label>
                      <input type="number" class="form-control form-control-lg" placeholder="+/- V.C à la fin du trimestre comptable" #VCTC="ngModel"
                        [(ngModel)]="placementS.fromData.pla_value_consome_trimestre_comptable"  name="VCTC" required disabled />
                  </div>
              </div>
              <div class="col-md-4">
                  <div class="form-group">
                      <label>+/- V.C à la fin l’année comptable</label>
                      <input type="number" class="form-control form-control-lg" placeholder="+/- V.C à la fin l’année comptable" #VCAT="ngModel"
                        [(ngModel)]="placementS.fromData.pla_value_consome_annee_comptable"  name="VCAT" required disabled />
                  </div>
              </div>-->
        <!-- <div class="col-md-3">
                  <div class="form-group">
                      <label>Taux de la retenue de garantie</label>
                      <input type="number" class="form-control form-control-lg" placeholder="Taux de la retenue de garantie" #tauxRG="ngModel"
                        [(ngModel)]="placementS.fromData.pla_taux_retenue"  name="tauxRG" required />
                  </div>
              </div>
              <div class="col-md-3">
                  <div class="form-group">
                      <label>Taux Moudharba</label>
                      <input type="number" class="form-control form-control-lg" placeholder="Taux Moudharba" #tauxM="ngModel"
                        [(ngModel)]="placementS.fromData.taux_moudharba"  name="tauxM" required />
                  </div>
              </div>-->

        <!-- Confimrer / Retour  -->

        <div class="mt-3">
          <button
            class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
            type="submit"
            [disabled]="monform.invalid"
          >
            Confirmer
          </button>
        </div>
      </ng-container>
      <ng-container *ngIf="placementS.fromData.pla_action_cotee == 2">
        <div class="row">
          <!-- Société -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Société</label>
              <input
                type="text"
                class="form-control form-control-lg"
                placeholder="Société"
                #Societe="ngModel"
                [(ngModel)]="placementS.fromData.pla_societe"
                name="Societe"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (Societe.touched || monform.submitted) &&
                  Societe.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
          <!--Nombre d’action -->

          <div class="col-md-6">
            <div class="form-group">
              <label>Nombre d’action </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Nombre d’action"
                #nbaction="ngModel"
                [(ngModel)]="placementS.fromData.pla_nbr_action"
                min="0"
                name="nbaction"
                (change)="onCalculeMntD1()"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (nbaction.touched || monform.submitted) &&
                  nbaction.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <!-- Prix d’achat -->

          <div class="col-md-4">
            <div class="form-group">
              <label>Prix d’achat</label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Prix d’achat"
                #prixA="ngModel"
                ng-model="model.data"
                step="0.1"
                [(ngModel)]="placementS.fromData.pla_prix_achat"
                min="0"
                name="tauxP"
                id="prixA"
                (change)="onCalculeMntD1()"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (prixA.touched || monform.submitted) && prixA.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
          <!-- Montant Dêpot -->

          <div class="col-md-4">
            <div class="form-group">
              <label>Montant Dêpot </label>
              <input
                type="number"
                class="form-control form-control-lg"
                placeholder="Montant Dêpot"
                #mntD="ngModel"
                [(ngModel)]="placementS.fromData.pla_montant_depot"
                min="0"
                name="mntD"
                disabled
                required
              />
            </div>
          </div>
          <!-- Date d'achat -->

          <div class="col-md-4">
            <div class="form-group">
              <label>Date d'achat</label>
              <input
                type="date"
                class="form-control form-control-lg"
                placeholder="Date d'achat"
                #dateA="ngModel"
                [(ngModel)]="placementS.fromData.pla_date_souscription"
                name="dateA"
                required
              />
              <div
                class="error-msg"
                *ngIf="
                  (dateA.touched || monform.submitted) && dateA.errors?.required
                "
              >
                Le champs est obligatoire!
              </div>
            </div>
          </div>
        </div>
        <!-- Confimer -->

        <div class="mt-3">
          <button
            class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
            type="submit"
            [disabled]="monform.invalid"
          >
            Confirmer
          </button>
        </div>
      </ng-container>
    </ng-container>
    <!-- tester sur type ="Actions Non Cotee" -->

    <ng-container *ngIf="placementS.fromData.pla_id_type_action == 7">
      <div class="row">
        <div class="col-md-4">
          <div class="form-group">
            <label>Intermediare en bourse </label>
            <select
              (blur)="ValidateOrg(listinterB.value)"
              (change)="ValidateOrg(listinterB.value)"
              class="form-control form-control-lg"
              [class.is-invalid]="listinterB.touched && OrgHasError"
              [(ngModel)]="placementS.fromData.pla_interB"
              name="listinterB"
              #listinterB="ngModel"
            >
              <option value="0" disabled>Sélectionner l'entreprise</option>

              <ng-container *ngFor="let item of interB.listinterB">
                <option value="{{ item.inB_id }}">
                  {{ item.inB_libelle }}
                </option>
              </ng-container>
            </select>
            <small
              class="text-danger"
              [class.d-none]="!OrgHasError || listinterB.untouched"
            >
              Le champs est obligatoire!
            </small>
          </div>
        </div>

        <!-- Montant Dêpot -->
        <div class="col-md-4">
          <div class="form-group">
            <label>Montant Dêpot </label>
            <input
              type="number"
              class="form-control form-control-lg"
              placeholder="Montant Dêpot"
              #mntD="ngModel"
              [(ngModel)]="placementS.fromData.pla_montant_depot"
              min="0"
              name="mntD"
              pattern="^[0-9]{1,11}(?:\.[0-9]{1,3})?$"
              required
            />
            <div
              class="error-msg"
              *ngIf="
                (mntD.touched || monform.submitted) && mntD.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>

            <div
              class="error-msg"
              *ngIf="
                (mntD.touched || monform.submitted) && mntD.errors?.pattern
              "
            >
              <p>Le montant doit être 3 chiffres après la virgule</p>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="col-md-6" style="margin:-105px 0px 0px 264px;">
                  <div class="form-group">
                      <label>Montant Dêpot </label>
                      <input type="number" class="form-control form-control-lg" placeholder="Montant Dêpot" #mntD="ngModel"
                        [(ngModel)]="placementS.fromData.pla_montant_depot" min="0" name="mntD"  pattern="^[0-9]{1,11}(?:\.[0-9]{1,3})?$" required />
                        <div class="error-msg" *ngIf="(mntD.touched || monform.submitted) && mntD.errors?.required">
                         Le champs est obligatoire!
                       </div>

                        <div class="error-msg" *ngIf="(mntD.touched || monform.submitted) && mntD.errors?.pattern">
                         <p>Le montant doit être 3 chiffres après la virgule </p>
                       </div>

                  </div>
              </div>-->

      <div class="row">
        <!-- Date d'acquisition-->

        <div class="col-md-4">
          <div class="form-group">
            <label>Date d'acquisition</label>
            <input
              type="date"
              class="form-control form-control-lg"
              placeholder="Date d'acquisition"
              #dateA="ngModel"
              [(ngModel)]="placementS.fromData.pla_date_souscription"
              name="dateA"
              required
            />
            <div
              class="error-msg"
              *ngIf="
                (dateA.touched || monform.submitted) && dateA.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
          </div>
        </div>
        <!-- Valeur liquidative-->
        <div class="col-md-4">
          <div class="form-group">
            <label>Valeur liquidative </label>
            <input
              type="number"
              class="form-control form-control-lg"
              placeholder="Valeur liquidative"
              #VL="ngModel"
              [(ngModel)]="placementS.fromData.pla_Vliqui"
              min="0"
              name="VL"
              required
            />
            <div
              class="error-msg"
              *ngIf="(VL.touched || monform.submitted) && VL.errors?.required"
            >
              Le champs est obligatoire!
            </div>
          </div>
        </div>
        <!-- +/- V.C à la fin l’année comptable-->

        <div class="col-md-4">
          <div class="form-group">
            <label>+/- V.C à la fin l’année comptable</label>
            <input
              type="number"
              class="form-control form-control-lg"
              placeholder="+/- V.C à la fin l’année comptable"
              #VCAT="ngModel"
              [(ngModel)]="
                placementS.fromData.pla_value_consome_annee_comptable
              "
              min="0"
              name="VCAT"
              required
            />
            <div
              class="error-msg"
              *ngIf="
                (VCAT.touched || monform.submitted) && VCAT.errors?.required
              "
            >
              Le champs est obligatoire!
            </div>
          </div>
        </div>
      </div>
      <!-- Confimer-->

      <div class="mt-3">
        <button
          class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
          type="submit"
          [disabled]="monform.invalid"
        >
          Confirmer
        </button>
      </div>
    </ng-container>
  </form>
  <!-- Retour -->

  <div class="mt-3">
    <button
      type="button"
      class="btn btn-outline-secondary btn-lg btn-block"
      (click)="closeDialog(monform)"
    >
      Retour
    </button>
  </div>
</div>
<!--EndForm-->
